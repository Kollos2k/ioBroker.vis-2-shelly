/*! For license information please see src_ShellyCustomOverview_jsx.c37d5221.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkiobroker_vis_2_shelly=self.webpackChunkiobroker_vis_2_shelly||[]).push([["src_ShellyCustomOverview_jsx","node_modules_react_jsx-runtime_js-_c9180","node_modules_react_jsx-runtime_js-_c9181","node_modules_react_jsx-runtime_js-_c9182","node_modules_react_jsx-runtime_js-_c9183","node_modules_object-assign_index_js"],{13713:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});s(28437);var i=s(67085),a=(s(37449),s(59797)),l=s(70579);class r extends(window.visRxWidget||a.VisRxWidget){constructor(e){super(e),this.state.allDevices={},console.debug("CustomOverview this"),console.debug(this)}static getWidgetInfo(){return{id:"tplCustomOverviewWidget",visSet:"vis-2-shelly",visSetLabel:"vis_2_widgets_shelly",visSetColor:"#cf00ff",visName:"CustomOverview",visAttrs:[{name:"common",fields:[{name:"title",label:"vis_2_widgets_shelly_overview_title",type:"text"},{name:"titleImage",label:"vis_2_widgets_shelly_overview_titleImage",type:"image"},{name:"valueGroupCount",label:"vis_2_widgets_shelly_overview_valueGroupCount",type:"number",default:1,onChange:(e,t,s)=>s(t)}]},{name:"cssstyle",label:"vis_2_widgets_shelly_overview_cssstyle",fields:[{name:"backColor",label:"vis_2_widgets_shelly_overview_backColor",type:"color"},{name:"backColorOut",label:"vis_2_widgets_shelly_overview_backColorOut",type:"color"},{name:"textColor",label:"vis_2_widgets_shelly_overview_textColor",type:"color"},{name:"padding",label:"vis_2_widgets_shelly_overview_padding",type:"dimension"},{name:"margin",label:"vis_2_widgets_shelly_overview_margin",type:"dimension"},{name:"borderRadius",label:"vis_2_widgets_shelly_overview_borderRadius",type:"dimension"}]},{name:"valueGroup",label:"vis_2_widgets_shelly_overview_group",indexFrom:1,indexTo:"valueGroupCount",fields:[{name:"subTitle",label:"vis_2_widgets_shelly_overview_subTitle",type:"text"},{name:"subOID",label:"vis_2_widgets_shelly_overview_subOID",type:"id"},{name:"subUnit",label:"vis_2_widgets_shelly_overview_subUnit",type:"text"},{name:"subIcon",label:"vis_2_widgets_shelly_overview_subIcon",type:"image"},{name:"subSeperator",label:"vis_2_widgets_shelly_overview_subSeperator",type:"checkbox"},{name:"subAddOID1_",label:"vis_2_widgets_shelly_overview_subAddOID1",type:"id"},{name:"subAddUnit1_",label:"vis_2_widgets_shelly_overview_subAddUnit1",type:"text"},{name:"subAddIcon1_",label:"vis_2_widgets_shelly_overview_subAddIcon1",type:"image"},{name:"subAddOID2_",label:"vis_2_widgets_shelly_overview_subAddOID2",type:"id"},{name:"subAddUnit2_",label:"vis_2_widgets_shelly_overview_subAddUnit2",type:"text"},{name:"subAddIcon2_",label:"vis_2_widgets_shelly_overview_subAddIcon2",type:"image"},{name:"subHorizontal",label:"vis_2_widgets_shelly_overview_subHR",type:"checkbox"}]}],visPrev:"widgets/vis-2-shelly/vis2/img/editor/allDevices1.png"}}async propertiesUpdate(){}async componentDidMount(){super.componentDidMount(),this.props.context.socket.subscribeState(["vis-2-shelly.0.devices.ids"],((e,t)=>{this.state.allDevices=JSON.parse(t.val),this.forceUpdate()})),await this.propertiesUpdate()}getWidgetInfo(){return r.getWidgetInfo()}async onRxDataChanged(){await this.propertiesUpdate()}async onRxStyleChanged(){}async onStateUpdated(e,t){}renderWidgetBody(e){super.renderWidgetBody(e);const t=[];for(let s=1;s<=this.state.data.valueGroupCount;s++)t.push(s);return(0,l.jsx)(i.Card,{style:{width:"100%",height:"100%",backgroundColor:this.state.data.backColorOut},children:(0,l.jsx)(i.CardContent,{style:{backgroundColor:this.state.data.backColor,color:this.state.data.textColor,margin:this.state.data.margin,padding:this.state.data.padding,borderRadius:this.state.data.borderRadius},children:(0,l.jsxs)("div",{className:"vis-2-shelly-class vis-widget-body",style:{padding:"2px"},children:[(0,l.jsxs)("div",{className:"vis-2-shelly-customOverview-headDiv",children:[(0,l.jsx)("span",{className:"vis-2-shelly-customOverview-headIcon",children:this.getImage(this.state.data.titleImage,{alt:"ICON",style:{width:"30px"}})}),(0,l.jsx)("span",{className:"vis-2-shelly-customOverview-headTitle",children:this.getData("title")})]}),(0,l.jsx)("div",{className:"vis-2-shelly-customOverview-item",children:t.map((e=>(0,l.jsxs)(l.Fragment,{children:[this.state.data["subSeperator".concat(e)]?(0,l.jsx)("hr",{}):"",(0,l.jsx)("table",{style:{width:"100%"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{rowSpan:"2",className:"vis-2-shelly-customOverview-itemIconHolder",children:this.getImage(this.getData("subIcon".concat(e)),{alt:"icon",className:"vis-2-shelly-customOverview-itemIcon"})}),(0,l.jsx)("td",{className:"vis-2-shelly-customOverview-itemTitle",children:this.getData("subTitle".concat(e))}),(0,l.jsxs)("td",{className:"vis-2-shelly-customOverview-itemValue",children:[this.getOIDValue("subOID".concat(e)),"\xa0",this.getData("subUnit".concat(e))]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"vis-2-shelly-customOverview-itemTimestamp",children:this.getValueLC_formated("subOID".concat(e))}),(0,l.jsx)("td",{className:"vis-2-shelly-customOverview-itemSubItem",children:(0,l.jsxs)("div",{className:!0===this.state.data["subHorizontal".concat(e)]?"vis-2-shelly-customOverview-itemSubItemFlex":"vis-2-shelly-customOverview-itemSubItemGrid",children:[(0,l.jsx)("div",{style:{display:this.state.data["subAddIcon1_".concat(e)]?"inline":"none",gridArea:"icon1"},children:this.getImage("subAddIcon1_".concat(e),{alt:"",style:{width:"15px"}})}),(0,l.jsxs)("div",{style:{gridArea:"value1"},children:["\xa0",this.getOIDValue("subAddOID1_".concat(e)),"\xa0",this.getData("subAddUnit1_".concat(e))]}),!0===this.state.data["subHorizontal".concat(e)]&&this.state.data["subAddOID1_".concat(e)]&&this.state.data["subAddOID2_".concat(e)]?" ,":"",(0,l.jsx)("div",{style:{display:this.state.data["subAddIcon2_".concat(e)]?"inline":"none",gridArea:"icon2"},children:this.getImage("subAddIcon2_".concat(e),{alt:"",style:{width:"15px"}})}),(0,l.jsxs)("div",{style:{gridArea:"value2"},children:["\xa0",this.getOIDValue("subAddOID2_".concat(e)),"\xa0",this.getData("subAddUnit2_".concat(e))]})]})})]})]})})]})))})]})})})}getImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(0,l.jsx)("img",{src:this.imageReplacePRJNAME(e),...t}):""}getData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"undefined"!==typeof(e=this.state.data[e])&&null!==e?e:t}getOIDValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e=this.state.data[e])&&"undefined"!==typeof this.state.values["".concat(e,".val")]?this.state.values["".concat(e,".val")]:t}getValueLC_formated(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e=this.state.data[e])&&"undefined"!==typeof this.state.values["".concat(e,".lc")]?this.formatDate(this.state.values["".concat(e,".lc")],"",!0,!0,!0):t}imageReplacePRJNAME(e){return e.replace("_PRJ_NAME","/vis-2.0/".concat(this.props.context.projectName))}}const o=r},42123:e=>{var t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var l,r,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),n=1;n<arguments.length;n++){for(var d in l=Object(arguments[n]))s.call(l,d)&&(o[d]=l[d]);if(t){r=t(l);for(var c=0;c<r.length;c++)i.call(l,r[c])&&(o[r[c]]=l[r[c]])}}return o}},51153:(e,t,s)=>{s(42123);var i=s(28437),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var l=Symbol.for;a=l("react.element"),t.Fragment=l("react.fragment")}var r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,n={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var i,l={},d=null,c=null;for(i in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!n.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:a,type:e,key:d,ref:c,props:l,_owner:r.current}}t.jsx=d,t.jsxs=d},70579:(e,t,s)=>{e.exports=s(51153)}}]);
//# sourceMappingURL=src_ShellyCustomOverview_jsx.c37d5221.chunk.js.map