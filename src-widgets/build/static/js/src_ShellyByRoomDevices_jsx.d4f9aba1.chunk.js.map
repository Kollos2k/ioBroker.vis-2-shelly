{"version":3,"file":"static/js/src_ShellyByRoomDevices_jsx.d4f9aba1.chunk.js","mappings":"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","sources":["ShellyByRoomDevices.jsx","components/Device.jsx","components/DeviceActions.jsx","components/DeviceConfig.jsx","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js"],"sourcesContent":["import React from \"react\";\nimport { Card, CardContent, TextField, Select, Option } from \"@mui/material\";\n\nimport { I18n, ObjectBrowser } from \"@iobroker/adapter-react-v5\";\nimport { VisRxWidget } from \"@iobroker/vis-2-widgets-react-dev\";\nimport Device from \"./components/Device\";\nimport getDeviceConfigByType from \"./components/DeviceConfig\";\n\nclass ShellyByRoomDevices extends (window.visRxWidget || VisRxWidget) {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t// props.myContainer = useRef(null);\n\t\tthis.state.allDevices = {};\n\t\tthis.state.roomDevices = {};\n\t\tconsole.debug(\"THIS ROOM\");\n\t\tconsole.debug(this);\n\t}\n\n\tstatic getWidgetInfo() {\n\t\treturn {\n\t\t\tid: \"tplByRoomDevicesWidget\",\n\t\t\tvisSet: \"vis-2-shelly\",\n\t\t\tvisSetLabel: \"vis_2_widgets_shelly\", // Widget set translated label (should be defined only in one widget of set)\n\t\t\tvisSetColor: \"#cf00ff\", // Color of widget set. it is enough to set color only in one widget of set\n\t\t\tvisName: \"ByRoomDevices\", // Name of widget\n\t\t\tvisAttrs: [\n\t\t\t\t{\n\t\t\t\t\tname: \"common\", // group name\n\t\t\t\t\tfields: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"display\", // name in data structure\n\t\t\t\t\t\t\tlabel: \"vis_2_widgets_shelly_display\", // translated field label\n\t\t\t\t\t\t\ttype: \"select\",\n\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t{ value: \"block\", label: \"block\" },\n\t\t\t\t\t\t\t\t{ value: \"flex\", label: \"flex\" },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tnoTranslation: true,\n\t\t\t\t\t\t\tdefault: \"block\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"rooms\",\n\t\t\t\t\t\t\tlabel: \"vis_2_widgets_shelly_rooms\",\n\t\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\t\tcomponent: (field, data, onDataChange, socket, widgetID, view, project) => {\n\t\t\t\t\t\t\t\t// console.debug(\"Component\");\n\t\t\t\t\t\t\t\t// console.debug(this);\n\t\t\t\t\t\t\t\t// console.debug(field);\n\t\t\t\t\t\t\t\t// console.debug(\"DATA\");\n\t\t\t\t\t\t\t\t// console.debug(data);\n\t\t\t\t\t\t\t\t// console.debug(socket);\n\t\t\t\t\t\t\t\tconst roomList =\n\t\t\t\t\t\t\t\t\ttypeof socket.context.socket.states.roomList !== \"undefined\"\n\t\t\t\t\t\t\t\t\t\t? socket.context.socket.states.roomList\n\t\t\t\t\t\t\t\t\t\t: {};\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t// id={`${widgetID}_ShellyRoomSelect`}\n\t\t\t\t\t\t\t\t\t\tname=\"ShellyByRoom_RoomSelect\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\tvalue={data[field.name]}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tonDataChange({ [field.name]: e.target.value }); // returns all changed field as object.\n\t\t\t\t\t\t\t\t\t\t\t// If some propertiy is null, so it will be deleted from data\n\t\t\t\t\t\t\t\t\t\t\t// this.updateRoomDevices();\n\t\t\t\t\t\t\t\t\t\t\tconsole.debug(field);\n\t\t\t\t\t\t\t\t\t\t\tconsole.debug(data);\n\t\t\t\t\t\t\t\t\t\t\tconsole.debug(onDataChange);\n\t\t\t\t\t\t\t\t\t\t\tconsole.debug(socket);\n\t\t\t\t\t\t\t\t\t\t\t// console.debug(widgetID);\n\t\t\t\t\t\t\t\t\t\t\t// console.debug(view);\n\t\t\t\t\t\t\t\t\t\t\t// console.debug(project);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">-- Select room --</option>\n\t\t\t\t\t\t\t\t\t\t{Object.entries(roomList).map(([key, val]) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <option value={key}>{val}</option>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t// check here all possible types https://github.com/ioBroker/ioBroker.vis/blob/react/src/src/Attributes/Widget/SCHEMA.md\n\t\t\t],\n\t\t\tvisPrev: \"widgets/vis-2-shelly/vis2/img/editor/allDevices.png\",\n\t\t};\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tasync propertiesUpdate() {\n\t\t// Widget has 3 important states\n\t\t// 1. this.state.values - contains all state values, that are used in widget (automatically collected from widget info).\n\t\t//                        So you can use `this.state.values[this.state.rxData.oid + '.val']` to get value of state with id this.state.rxData.oid\n\t\t// 2. this.state.rxData - contains all widget data with replaced bindings. E.g. if this.state.data.type is `{system.adapter.admin.0.alive}`,\n\t\t//                        then this.state.rxData.type will have state value of `system.adapter.admin.0.alive`\n\t\t// 3. this.state.rxStyle - contains all widget styles with replaced bindings. E.g. if this.state.styles.width is `{javascript.0.width}px`,\n\t\t//                        then this.state.rxData.type will have state value of `javascript.0.width` + 'px\n\t\tthis.updateRoomDevices();\n\t}\n\n\tasync updateRoomDevices() {\n\t\tthis.state.roomDevices = {};\n\t\tif (typeof this.state.data.rooms !== \"undefined\") {\n\t\t\tObject.entries(this.state.allDevices).forEach(([key, device]) => {\n\t\t\t\tif (device.room === this.state.data.rooms) {\n\t\t\t\t\tthis.state.roomDevices[key] = device;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tif (typeof this.props.context.socket.states.roomList === \"undefined\") {\n\t\t\tthis.props.context.socket.subscribeState([\"vis-2-shelly.0.devices.roomIds\"], (id, state) => {\n\t\t\t\tthis.state.rooms = JSON.parse(state.val);\n\t\t\t\tthis.props.context.socket.states.roomList = this.state.rooms;\n\t\t\t});\n\t\t}\n\t\tthis.props.context.socket.subscribeState([\"vis-2-shelly.0.devices.ids\"], (id, state) => {\n\t\t\tthis.state.allDevices = JSON.parse(state.val);\n\t\t\tthis.updateRoomDevices();\n\t\t\tthis.forceUpdate();\n\t\t});\n\n\t\t// Update data\n\t\tawait this.propertiesUpdate();\n\t}\n\n\t// Do not delete this method. It is used by vis to read the widget configuration.\n\t// eslint-disable-next-line class-methods-use-this\n\tgetWidgetInfo() {\n\t\treturn ShellyByRoomDevices.getWidgetInfo();\n\t}\n\n\t// This function is called every time when rxData is changed\n\tasync onRxDataChanged() {\n\t\tconsole.debug(\"onRxDataChanged\");\n\t\tawait this.propertiesUpdate();\n\t}\n\n\t// This function is called every time when rxStyle is changed\n\t// eslint-disable-next-line class-methods-use-this\n\tasync onRxStyleChanged() {}\n\n\t// This function is called every time when some Object State updated, but all changes lands into this.state.values too\n\t// eslint-disable-next-line class-methods-use-this, no-unused-vars\n\tasync onStateUpdated(id, state) {}\n\n\trenderWidgetBody(props) {\n\t\tsuper.renderWidgetBody(props);\n\t\tconsole.debug(\"room devices\");\n\t\tconsole.debug(this.state.roomDevices);\n\t\treturn (\n\t\t\t<Card style={{ width: \"100%\", height: \"100%\" }}>\n\t\t\t\t<CardContent>\n\t\t\t\t\t{Object.values(this.state.roomDevices).map((device) => {\n\t\t\t\t\t\tthis.vsID = `vis-2-shelly.${device.instance}.devices.${device.id}`;\n\t\t\t\t\t\tthis.domID = device.id.replaceAll(\"#\", \"\");\n\t\t\t\t\t\tconst typeConfig = getDeviceConfigByType(\n\t\t\t\t\t\t\tdevice.type,\n\t\t\t\t\t\t\tthis.domID,\n\t\t\t\t\t\t\t{ stateID: device.stateId, type: device.type, id: device.id },\n\t\t\t\t\t\t\tthis.vsID,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof typeConfig.dataPoint !== \"undefined\" &&\n\t\t\t\t\t\t\ttypeof typeConfig.dataPoint[device.relay] !== \"undefined\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst deviceDomID = typeConfig.domID + device.relay;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Device\n\t\t\t\t\t\t\t\t\tstateID={device.stateId}\n\t\t\t\t\t\t\t\t\ttype={device.type}\n\t\t\t\t\t\t\t\t\tid={device.id}\n\t\t\t\t\t\t\t\t\ttypeConfig={typeConfig}\n\t\t\t\t\t\t\t\t\tdeviceDomID={deviceDomID}\n\t\t\t\t\t\t\t\t\trelay={device.relay}\n\t\t\t\t\t\t\t\t\tstate={this.state}\n\t\t\t\t\t\t\t\t\tdataPoint={typeConfig.dataPoint[device.relay]}\n\t\t\t\t\t\t\t\t\tsocket={this.props.context.socket}\n\t\t\t\t\t\t\t\t\twidID={this.props.id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ShellyByRoomDevices;\n","import React, { Component, useRef } from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { withStyles } from \"@mui/styles\";\nimport \"./device.css\";\nimport { object } from \"prop-types\";\n\nconst styles = (theme) => ({});\n// let css = {};\n\nclass Device extends Component {\n\tel = React.createRef(null);\n\n\tcomponents = {};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tprops.socket.subscribeState(Object.values(props.dataPoint), (id, state) => {\n\t\t\tthis.stateChange(id, state);\n\t\t});\n\t}\n\n\tasync stateChange(id, state) {\n\t\tthis.props.state[id] = state;\n\t\tif (typeof this.props.typeConfig.update === \"undefined\") return false;\n\t\tlet idKey;\n\t\tObject.entries(this.props.dataPoint).forEach(([k, v]) => {\n\t\t\tif (v === id) idKey = k;\n\t\t});\n\t\tif (typeof this.props.typeConfig.update[idKey] === \"undefined\") return false;\n\t\tconst updateKey =\n\t\t\ttypeof this.props.typeConfig.update[idKey].viewPoint !== \"undefined\"\n\t\t\t\t? this.props.typeConfig.update[idKey].viewPoint\n\t\t\t\t: idKey;\n\t\tif (typeof this.components[updateKey] === \"undefined\") return false;\n\t\tif (typeof this.props.typeConfig.update[idKey].updateValue === \"function\") {\n\t\t\tconst val = typeof state === \"undefined\" ? \"\" : state === null ? \"\" : state.val;\n\t\t\tthis.props.typeConfig.update[idKey].updateValue({\n\t\t\t\tdom: this.components[updateKey].current,\n\t\t\t\tnewVal: val,\n\t\t\t\tconfig: this.props.typeConfig.update[idKey],\n\t\t\t\tsocket: this.props.socket,\n\t\t\t\tdataPoint: this.props.dataPoint,\n\t\t\t\tstate: this.props.state,\n\t\t\t});\n\t\t}\n\t\tif (typeof this.props.typeConfig.update[idKey].updateAck === \"function\") {\n\t\t\tconst ack = typeof state === \"undefined\" ? \"\" : state === null ? \"\" : state.ack;\n\t\t\tthis.props.typeConfig.update[idKey].updateAck({\n\t\t\t\tdom: this.components[idKey].current,\n\t\t\t\tnewAck: ack,\n\t\t\t\tconfig: this.props.typeConfig.update[idKey],\n\t\t\t\tsocket: this.props.socket,\n\t\t\t\tdataPoint: this.props.dataPoint,\n\t\t\t\tstate: this.props.state,\n\t\t\t});\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync propertiesUpdate() {\n\t\tif (typeof this.props.state !== \"undefined\" && this.props.state !== null) {\n\t\t\tObject.values(this.props.dataPoint).forEach((value) => {\n\t\t\t\tif (typeof this.props.state[value] !== \"undefined\") {\n\t\t\t\t\tthis.stateChange(value, this.props.state[value]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.propertiesUpdate();\n\t}\n\n\trender() {\n\t\tif (typeof this.props.typeConfig.action === \"undefined\") this.props.typeConfig.action = {};\n\t\tthis.components.icon = React.createRef(null);\n\t\tthis.components.name = React.createRef(null);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.props.deviceDomID}\n\t\t\t\tclassName=\"vis2_shelly_DeviceBody\"\n\t\t\t\ttitle={this.props.stateID}\n\t\t\t\tref={this.el}\n\t\t\t\t// style={\"width:200px\"}\n\t\t\t>\n\t\t\t\t<span name=\"status\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span className=\"connectionState connectionStateOnline\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span name=\"icon\" ref={this.components.icon}></span>\n\t\t\t\t<span name=\"name\" ref={this.components.name}>\n\t\t\t\t\t{this.props.id}\n\t\t\t\t</span>\n\t\t\t\t<span name=\"info\">\n\t\t\t\t\t{Object.entries(this.props.typeConfig.view.info).map(([viewKey, viewVal]) => {\n\t\t\t\t\t\tthis.components[viewVal.name] = React.createRef(null);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span name={viewVal.name} className={viewVal.class} ref={this.components[viewVal.name]}>\n\t\t\t\t\t\t\t\t{viewVal.html}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</span>\n\t\t\t\t<span name=\"action\">\n\t\t\t\t\t{Object.entries(this.props.typeConfig.view.action).map(([viewKey, viewVal]) => {\n\t\t\t\t\t\tthis.components[viewVal.name] = React.createRef(null);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tname={viewVal.name}\n\t\t\t\t\t\t\t\tclassName={viewVal.class}\n\t\t\t\t\t\t\t\tstyle={viewVal.style}\n\t\t\t\t\t\t\t\tref={this.components[viewVal.name]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{viewVal.html}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t{Object.values(this.props.typeConfig.action).map((actionVal) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"actionButton\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\ttop: actionVal.y,\n\t\t\t\t\t\t\t\t\tleft: actionVal.x,\n\t\t\t\t\t\t\t\t\theight: actionVal.h,\n\t\t\t\t\t\t\t\t\twidth: actionVal.w,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tactionVal.click({\n\t\t\t\t\t\t\t\t\t\tdom: this.el.current,\n\t\t\t\t\t\t\t\t\t\tdataPoint: this.props.dataPoint,\n\t\t\t\t\t\t\t\t\t\toptions: actionVal,\n\t\t\t\t\t\t\t\t\t\tsocket: this.props.socket,\n\t\t\t\t\t\t\t\t\t\tstate: this.props.state,\n\t\t\t\t\t\t\t\t\t\tevent: e,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withStyles(styles)(Device);\n","export const basicUpdateValue = (arg) => {\n\targ.dom.innerHTML = arg.newVal;\n};\nexport const basicUpdateMotionValue = (arg) => {\n\targ.dom.classList.remove(\"motionyes\");\n\targ.dom.classList.remove(\"motionno\");\n\tif (arg.newVal === true) {\n\t\targ.dom.classList.add(\"motionyes\");\n\t\targ.dom.innerHTML = \"Ja\";\n\t} else {\n\t\targ.dom.classList.add(\"motionno\");\n\t\targ.dom.innerHTML = \"Nein\";\n\t}\n};\nexport const basicUpdateValueName = (arg) => {\n\targ.dom.innerHTML = arg.newVal;\n};\nexport const basicUpdateValueUnit = (arg) => {\n\targ.dom.innerHTML = `${arg.newVal} ${arg.config.unit}`;\n};\nexport const basicUpdateValueBrightness = (arg) => {\n\targ.dom.innerHTML = `${arg.newVal} ${arg.config.unit}`;\n\t// arg.dom.appendChild(<button type=\"button\">+</button>);\n\t// const $b1 = $(\"<button class='brightnessButton'>-</button>\");\n\t// const $b2 = $(\"<button class='brightnessButton'>+</button>\");\n\t// $b1.click(() => {\n\t// \tif (newVal < 10) {\n\t// \t\tnewVal = 0;\n\t// \t} else {\n\t// \t\tnewVal -= 10;\n\t// \t}\n\t// \tvis.setValue(stageID, newVal);\n\t// });\n\t// $b2.click(() => {\n\t// \tif (newVal > 90) {\n\t// \t\tnewVal = 100;\n\t// \t} else {\n\t// \t\tnewVal += 10;\n\t// \t}\n\t// \tvis.setValue(stageID, newVal);\n\t// });\n\t// $dom.append($b1);\n\t// $dom.append($b2);\n};\nexport const basicUpdateDevicePower = (arg) => {\n\tlet exP = null;\n\tlet percent = null;\n\t// eslint-disable-next-line array-callback-return\n\tObject.entries(arg.state).map(([k, v]) => {\n\t\tif (typeof arg.dataPoint.externalPower !== \"undefined\" && arg.dataPoint.externalPower === k) exP = v;\n\t\telse if (typeof arg.dataPoint.batteryPercent !== \"undefined\" && arg.dataPoint.batteryPercent === k) percent = v;\n\t});\n\targ.dom.classList.remove(\"externalPower\");\n\targ.dom.classList.remove(\"battery\");\n\tif (exP !== null && typeof exP === \"object\" && exP.val === true) {\n\t\targ.dom.classList.add(\"externalPower\");\n\t\targ.dom.innerHTML = \"Energie\";\n\t} else {\n\t\targ.dom.classList.add(\"battery\");\n\t\targ.dom.innerHTML = `${percent === null || typeof percent !== \"object\" ? percent : percent.val} %`;\n\t}\n};\nexport const basicUpdateTRVAck = (arg) => {\n\tconst $dom = arg.dom.querySelector(\"[name='svgShellyTRVButton']\");\n\tif ($dom === null) return false;\n\tif ($dom.contentDocument === null) return false;\n\tconst element = $dom.contentDocument.firstChild;\n\tif (element === null) return false;\n\tif (arg.newAck === true) {\n\t\telement.classList.remove(\"animatedAction\");\n\t} else {\n\t\telement.classList.add(\"animatedAction\");\n\t}\n\treturn true;\n};\nexport const basicUpdateSwitchAck = (arg) => {\n\tconst $dom = arg.dom.querySelector(\"[name='svgShellyButton']\");\n\tif (!$dom.hasAttribute(\"loadAck\")) {\n\t\t$dom.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\tbasicUpdateSwitchAck(arg);\n\t\t\t},\n\t\t\ttrue,\n\t\t);\n\t\t$dom.setAttribute(\"loadAck\", \"true\");\n\t}\n\tif ($dom === null) return false;\n\tif ($dom.contentDocument === null) return false;\n\tconst element = $dom.contentDocument.firstChild;\n\tif (element === null) return false;\n\tif (arg.newAck === true) {\n\t\telement.classList.remove(\"animatedAction\");\n\t} else {\n\t\telement.classList.add(\"animatedAction\");\n\t}\n\treturn true;\n};\nexport const basicUpdateSwitch = (arg) => {\n\tconst $dom = arg.dom.querySelector(\"[name='svgShellyButton']\");\n\tif (!$dom.hasAttribute(\"loadValue\")) {\n\t\t$dom.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\tbasicUpdateSwitch(arg);\n\t\t\t},\n\t\t\ttrue,\n\t\t);\n\t\t$dom.setAttribute(\"loadValue\", \"true\");\n\t}\n\tif ($dom !== null) {\n\t\tif ($dom.contentDocument === null) {\n\t\t\treturn;\n\t\t}\n\t\tconst element = $dom.contentDocument.firstChild;\n\t\tif (element === null) return;\n\t\tif (arg.newVal) {\n\t\t\telement.classList.add(\"active\");\n\t\t} else {\n\t\t\telement.classList.remove(\"active\");\n\t\t}\n\t}\n};\nexport const basicActionNumberStepper = (arg) => {\n\tconst stateID = arg.dataPoint[arg.options.dataPoint];\n\tif (typeof stateID === \"undefined\") return false;\n\tif (typeof arg.state[stateID] === \"undefined\") return false;\n\tlet newVal =\n\t\ttypeof arg.state[stateID] === \"undefined\" || arg.state[stateID] === null\n\t\t\t? arg.options.minValue\n\t\t\t: arg.state[stateID].val;\n\tnewVal += arg.options.step;\n\tif (newVal < arg.options.minValue) newVal = arg.options.minValue;\n\tif (newVal > arg.options.maxValue) newVal = arg.options.maxValue;\n\targ.socket.setState(stateID, newVal, false);\n\treturn true;\n};\nexport const basicActionBooleanToggle = (arg) => {\n\tconst stateID = arg.dataPoint[arg.options.dataPoint];\n\tif (typeof stateID === \"undefined\") return false;\n\tif (typeof arg.state[stateID] === \"undefined\") return false;\n\tconst newVal = arg.state[stateID] === null ? false : arg.state[stateID].val !== true;\n\targ.socket.setState(stateID, newVal, false);\n\treturn true;\n};\n","import * as DeviceActions from \"./DeviceActions\";\n\nconst getDeviceConfigByType = (type, domID, props, vsID) => {\n\tlet typeConfig = {};\n\tconst switchButton = (\n\t\t<object\n\t\t\tname=\"svgShellyButton\"\n\t\t\ttype=\"image/svg+xml\"\n\t\t\tdata=\"/vis-2/widgets/vis-2-shelly/vis2/img/shellySwitchButton.svg\"\n\t\t\ttitle=\"Switch\"\n\t\t></object>\n\t);\n\tconst switchTRVButton = (\n\t\t<object\n\t\t\tname=\"svgShellyTRVButton\"\n\t\t\ttype=\"image/svg+xml\"\n\t\t\tdata=\"/vis-2/widgets/vis-2-shelly/vis2/img/shellyTRVButton.svg\"\n\t\t\tstyle={{ margin: \"5px\", width: \"125px\" }}\n\t\t\ttitle=\"TRVSwitch\"\n\t\t></object>\n\t);\n\tswitch (type) {\n\t\tcase \"SHDM-2\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tpower: {\n\t\t\t\t\t\tname: \"power\",\n\t\t\t\t\t\tunit: \"W\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tbrightness: {\n\t\t\t\t\t\tname: \"brightness\",\n\t\t\t\t\t\tunit: \"%\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueBrightness,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateSwitchAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateSwitch,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tpower: { name: \"power\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tbrightness: { name: \"brightness\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tswitch: {\n\t\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: switchButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tx: \"0px\",\n\t\t\t\t\t\ty: \"0px\",\n\t\t\t\t\t\tw: \"100%\",\n\t\t\t\t\t\th: \"100%\",\n\t\t\t\t\t\tdataPoint: \"switch\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionBooleanToggle,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\tpower: `${props.stateID}.lights.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.lights.Switch`,\n\t\t\t\t\t\tbrightness: `${props.stateID}.lights.brightness`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"SHPLG-S\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tpower: {\n\t\t\t\t\t\tname: \"power\",\n\t\t\t\t\t\tunit: \"W\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateSwitchAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateSwitch,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: { power: { name: \"power\", class: \"icon\", html: \"\" } },\n\t\t\t\t\taction: {\n\t\t\t\t\t\tswitch: {\n\t\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: switchButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tx: \"0px\",\n\t\t\t\t\t\ty: \"0px\",\n\t\t\t\t\t\tw: \"100%\",\n\t\t\t\t\t\th: \"100%\",\n\t\t\t\t\t\tdataPoint: \"switch\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionBooleanToggle,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\tpower: `${props.stateID}.Relay0.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.Relay0.Switch`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"shellyplus1pm\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tpower: {\n\t\t\t\t\t\tname: \"power\",\n\t\t\t\t\t\tunit: \"W\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tvoltage: {\n\t\t\t\t\t\tname: \"voltage\",\n\t\t\t\t\t\tunit: \"V\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateSwitchAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateSwitch,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tpower: { name: \"power\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tvoltage: { name: \"voltage\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tswitch: {\n\t\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: switchButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tx: \"0px\",\n\t\t\t\t\t\ty: \"0px\",\n\t\t\t\t\t\tw: \"100%\",\n\t\t\t\t\t\th: \"100%\",\n\t\t\t\t\t\tdataPoint: \"switch\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionBooleanToggle,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\tpower: `${props.stateID}.Relay0.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.Relay0.Switch`,\n\t\t\t\t\t\tvoltage: `${props.stateID}.Relay0.Voltage`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"shellyplusplugs\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tpower: {\n\t\t\t\t\t\tname: \"power\",\n\t\t\t\t\t\tunit: \"W\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tvoltage: {\n\t\t\t\t\t\tname: \"voltage\",\n\t\t\t\t\t\tunit: \"V\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateSwitchAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateSwitch,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tpower: { name: \"power\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tvoltage: { name: \"voltage\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tswitch: {\n\t\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: switchButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tx: \"0px\",\n\t\t\t\t\t\ty: \"0px\",\n\t\t\t\t\t\tw: \"100%\",\n\t\t\t\t\t\th: \"100%\",\n\t\t\t\t\t\tdataPoint: \"switch\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionBooleanToggle,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\tpower: `${props.stateID}.Relay0.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.Relay0.Switch`,\n\t\t\t\t\t\tvoltage: `${props.stateID}.Relay0.Voltage`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"shellyplus2pm\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tpower: {\n\t\t\t\t\t\tname: \"power\",\n\t\t\t\t\t\tunit: \"W\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tvoltage: {\n\t\t\t\t\t\tname: \"voltage\",\n\t\t\t\t\t\tunit: \"V\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateSwitchAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateSwitch,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tpower: { name: \"power\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tvoltage: { name: \"voltage\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tswitch: {\n\t\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: switchButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tswitch: {\n\t\t\t\t\t\tname: \"switch\",\n\t\t\t\t\t\tx: \"0px\",\n\t\t\t\t\t\ty: \"0px\",\n\t\t\t\t\t\tw: \"100%\",\n\t\t\t\t\t\th: \"100%\",\n\t\t\t\t\t\tdataPoint: \"switch\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionBooleanToggle,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\tpower: `${props.stateID}.Relay0.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.Relay0.Switch`,\n\t\t\t\t\t\tvoltage: `${props.stateID}.Relay0.Voltage`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t\t1: {\n\t\t\t\t\t\tpower: `${props.stateID}.Relay1.Power`,\n\t\t\t\t\t\tswitch: `${props.stateID}.Relay1.Switch`,\n\t\t\t\t\t\tvoltage: `${props.stateID}.Relay1.Voltage`,\n\t\t\t\t\t\tname: `${vsID}.1.name`,\n\t\t\t\t\t\troom: `${vsID}.1.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"shellyplusht\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\thumidity: {\n\t\t\t\t\t\tname: \"humidity\",\n\t\t\t\t\t\tunit: \"%\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tbatteryPercent: {\n\t\t\t\t\t\tname: \"devicePower\",\n\t\t\t\t\t\tviewPoint: \"devicePower\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateDevicePower,\n\t\t\t\t\t},\n\t\t\t\t\texternalPower: {\n\t\t\t\t\t\tname: \"devicePower\",\n\t\t\t\t\t\tviewPoint: \"devicePower\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateDevicePower,\n\t\t\t\t\t},\n\t\t\t\t\ttemperature: {\n\t\t\t\t\t\tname: \"temperature\",\n\t\t\t\t\t\tunit: \"°C\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\thumidity: { name: \"humidity\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\texternalPower: { name: \"devicePower\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttemperature: {\n\t\t\t\t\t\t\tname: \"temperature\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"temperature\",\n\t\t\t\t\t\t\thtml: \"\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\ttemperature: `${props.stateID}.Temperature0.Celsius`,\n\t\t\t\t\t\thumidity: `${props.stateID}.Humidity0.Relative`,\n\t\t\t\t\t\texternalPower: `${props.stateID}.DevicePower0.ExternalPower`,\n\t\t\t\t\t\tbatteryPercent: `${props.stateID}.DevicePower0.BatteryPercent`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"SHTRV-01\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tvalvePosition: {\n\t\t\t\t\t\tname: \"valvePosition\",\n\t\t\t\t\t\tunit: \"%\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tbatteryPercent: {\n\t\t\t\t\t\tname: \"devicePower\",\n\t\t\t\t\t\tviewPoint: \"devicePower\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateDevicePower,\n\t\t\t\t\t},\n\t\t\t\t\texternalPower: {\n\t\t\t\t\t\tname: \"devicePower\",\n\t\t\t\t\t\tviewPoint: \"devicePower\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateDevicePower,\n\t\t\t\t\t},\n\t\t\t\t\ttemperature: {\n\t\t\t\t\t\tname: \"temperature\",\n\t\t\t\t\t\tunit: \"°C\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\ttemperatureTarget: {\n\t\t\t\t\t\tname: \"temperatureTarget\",\n\t\t\t\t\t\tunit: \"°C\",\n\t\t\t\t\t\tupdateAck: DeviceActions.basicUpdateTRVAck,\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\ttemperature: { name: \"temperature\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tvalvePosition: { name: \"valvePosition\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tdevicePower: { name: \"devicePower\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttemperatureTarget: {\n\t\t\t\t\t\t\tname: \"temperatureTarget\",\n\t\t\t\t\t\t\tstyle: {},\n\t\t\t\t\t\t\tclass: \"TRVValue\",\n\t\t\t\t\t\t\thtml: \"\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tname: \"buttons\",\n\t\t\t\t\t\t\tstyle: { width: \"135px\" },\n\t\t\t\t\t\t\tclass: \"TRVButton\",\n\t\t\t\t\t\t\thtml: switchTRVButton,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taction: {\n\t\t\t\t\tdown: {\n\t\t\t\t\t\tname: \"buttons\",\n\t\t\t\t\t\tx: \"5px\",\n\t\t\t\t\t\ty: \"5px\",\n\t\t\t\t\t\tw: \"45px\",\n\t\t\t\t\t\th: \"50px\",\n\t\t\t\t\t\tminValue: 15,\n\t\t\t\t\t\tmaxValue: 30,\n\t\t\t\t\t\tstep: -0.5,\n\t\t\t\t\t\tdataPoint: \"temperatureTarget\",\n\t\t\t\t\t\tclick: DeviceActions.basicActionNumberStepper,\n\t\t\t\t\t},\n\t\t\t\t\tup: {\n\t\t\t\t\t\tname: \"buttons\",\n\t\t\t\t\t\tx: \"85px\",\n\t\t\t\t\t\ty: \"5px\",\n\t\t\t\t\t\tw: \"45px\",\n\t\t\t\t\t\th: \"50px\",\n\t\t\t\t\t\tminValue: 15,\n\t\t\t\t\t\tmaxValue: 30,\n\t\t\t\t\t\tstep: +0.5,\n\t\t\t\t\t\tdataPoint: \"temperatureTarget\",\n\t\t\t\t\t\tonClick: {\n\t\t\t\t\t\t\tfind: \"[name='svgShellyTRVButton']\",\n\t\t\t\t\t\t\tcontentDocument: true,\n\t\t\t\t\t\t\tclassName: \"animatedAction\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclick: DeviceActions.basicActionNumberStepper,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\ttemperature: `${props.stateID}.tmp.temperatureC`,\n\t\t\t\t\t\ttemperatureTarget: `${props.stateID}.tmp.temperatureTargetC`,\n\t\t\t\t\t\tvalvePosition: `${props.stateID}.tmp.valvePosition`,\n\t\t\t\t\t\texternalPower: `${props.stateID}.bat.charger`,\n\t\t\t\t\t\tbatteryPercent: `${props.stateID}.bat.value`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"SHMOS-02\":\n\t\t\ttypeConfig = {\n\t\t\t\tdomID,\n\t\t\t\tupdate: {\n\t\t\t\t\tlux: {\n\t\t\t\t\t\tname: \"lux\",\n\t\t\t\t\t\tunit: \"Lux\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tbatteryPercent: {\n\t\t\t\t\t\tname: \"devicePower\",\n\t\t\t\t\t\tunit: \"%\",\n\t\t\t\t\t\tviewPoint: \"devicePower\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateDevicePower,\n\t\t\t\t\t},\n\t\t\t\t\tmotion: {\n\t\t\t\t\t\tname: \"motion\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateMotionValue,\n\t\t\t\t\t},\n\t\t\t\t\ttemperature: {\n\t\t\t\t\t\tname: \"temperature\",\n\t\t\t\t\t\tunit: \"°C\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueUnit,\n\t\t\t\t\t},\n\t\t\t\t\tname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t\toname: {\n\t\t\t\t\t\tname: \"name\",\n\t\t\t\t\t\tupdateValue: DeviceActions.basicUpdateValueName,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tview: {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\ttemperature: { name: \"temperature\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tbatteryPercent: { name: \"devicePower\", class: \"icon\", html: \"\" },\n\t\t\t\t\t\tlux: { name: \"lux\", class: \"icon\", html: \"\" },\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tmotion: {\n\t\t\t\t\t\t\tname: \"motion\",\n\t\t\t\t\t\t\tstyle: { width: \"70px\" },\n\t\t\t\t\t\t\tclass: \"\",\n\t\t\t\t\t\t\thtml: \"\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataPoint: {\n\t\t\t\t\t0: {\n\t\t\t\t\t\ttemperature: `${props.stateID}.sensor.temperatureC`,\n\t\t\t\t\t\tmotion: `${props.stateID}.sensor.motion`,\n\t\t\t\t\t\tlux: `${props.stateID}.sensor.lux`,\n\t\t\t\t\t\tbatteryPercent: `${props.stateID}.sensor.battery`,\n\t\t\t\t\t\tname: `${vsID}.0.name`,\n\t\t\t\t\t\troom: `${vsID}.0.room`,\n\t\t\t\t\t\tdeviceID: props.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t}\n\treturn typeConfig;\n};\n\nexport default getDeviceConfigByType;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n"],"names":["ShellyByRoomDevices","window","visRxWidget","VisRxWidget","constructor","props","super","this","state","allDevices","roomDevices","console","debug","getWidgetInfo","id","visSet","visSetLabel","visSetColor","visName","visAttrs","name","fields","label","type","options","value","noTranslation","default","component","field","data","onDataChange","socket","widgetID","view","project","roomList","context","states","_jsxs","style","width","onChange","e","target","children","_jsx","Object","entries","map","_ref","key","val","visPrev","propertiesUpdate","updateRoomDevices","rooms","forEach","_ref2","device","room","forceUpdate","componentDidMount","subscribeState","JSON","parse","onRxDataChanged","onRxStyleChanged","onStateUpdated","renderWidgetBody","Card","height","CardContent","values","vsID","concat","instance","domID","replaceAll","typeConfig","getDeviceConfigByType","stateID","stateId","dataPoint","relay","deviceDomID","Device","widID","Component","el","React","components","stateChange","update","idKey","k","v","updateKey","viewPoint","updateValue","dom","current","newVal","config","updateAck","ack","newAck","render","action","icon","className","title","ref","info","viewKey","viewVal","class","html","_ref3","actionVal","top","y","left","x","h","w","onClick","click","event","withStyles","theme","basicUpdateMotionValue","arg","classList","remove","add","innerHTML","basicUpdateValueName","basicUpdateValueUnit","unit","basicUpdateValueBrightness","basicUpdateDevicePower","exP","percent","externalPower","batteryPercent","basicUpdateTRVAck","$dom","querySelector","contentDocument","element","firstChild","basicUpdateSwitchAck","hasAttribute","addEventListener","setAttribute","basicUpdateSwitch","basicActionNumberStepper","minValue","step","maxValue","setState","basicActionBooleanToggle","switchButton","switchTRVButton","margin","power","DeviceActions","brightness","oname","switch","deviceID","voltage","humidity","temperature","valvePosition","temperatureTarget","devicePower","buttons","down","up","find","lux","motion","f","require","Symbol","for","l","m","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","__self","__source","q","c","a","g","b","d","call","defaultProps","$$typeof","_owner","exports","Fragment","jsx","jsxs","module"],"sourceRoot":""}