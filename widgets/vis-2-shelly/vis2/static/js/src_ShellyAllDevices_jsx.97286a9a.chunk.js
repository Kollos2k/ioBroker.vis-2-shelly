/*! For license information please see src_ShellyAllDevices_jsx.97286a9a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkiobroker_vis_2_shelly=self.webpackChunkiobroker_vis_2_shelly||[]).push([["src_ShellyAllDevices_jsx","node_modules_react_jsx-runtime_js-_c9180","node_modules_react_jsx-runtime_js-_c9181","node_modules_react_jsx-runtime_js-_c9182","node_modules_react_jsx-runtime_js-_c9183"],{57087:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});a(28437);var s=a(67085),n=(a(37449),a(59797)),i=a(92525),o=(a(88880),a(70579));class r extends(window.visRxWidget||n.VisRxWidget){constructor(e){super(e),this.state.allDevices={}}static getWidgetInfo(){return{id:"tplAllDevicesWidget",visSet:"vis-2-shelly",visSetLabel:"vis_2_widgets_shelly",visSetColor:"#cf00ff",visName:"AllDevices",visAttrs:[{name:"common",fields:[{name:"display",label:"vis_2_widgets_shelly_display",type:"select",options:[{value:"block",label:"block"},{value:"flex",label:"flex"}],noTranslation:!0,default:"block"}]}],visPrev:"widgets/vis-2-shelly/vis2/img/editor/allDevices.png"}}async propertiesUpdate(){const e=await this.props.context.socket.getForeignStates(["vis-2-shelly.0.devices.ids"]);this.state.allDevices=JSON.parse(e["vis-2-shelly.0.devices.ids"].val)}async componentDidMount(){super.componentDidMount(),await this.propertiesUpdate()}getWidgetInfo(){return r.getWidgetInfo()}async onRxDataChanged(){console.debug("onRxDataChanged"),await this.propertiesUpdate()}async onRxStyleChanged(){}async onStateUpdated(e,t){}renderWidgetBody(e){return super.renderWidgetBody(e),(0,o.jsx)(s.Card,{style:{width:"100%",height:"100%"},children:(0,o.jsx)(s.CardContent,{children:Object.values(this.state.allDevices).map((e=>(0,o.jsx)(i.A,{stateID:e.stateId,type:e.type,id:e.id,socket:this.props.context.socket})))})})}}const m=r},92525:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(28437),n=a(32719),i=(a(88880),a(70579));class o extends s.Component{constructor(e){super(e),this.vsID="vis-2-shelly.0.devices.".concat(e.id),this.domID=e.id.replaceAll("#",""),this.typeConfig=((e,t,a,s)=>{let n={};const i='<object name=\'svgShellyButton\' type="image/svg+xml" data="/vis/widgets/vis-shelly/images/shellySwitchButton.svg"></object>';switch(e){case"SHDM-2":n={domID:t,update:{power:{name:"power",unit:"W"},brightness:{name:"brightness",unit:"%"},name:{name:"name"},oname:{name:"name"},switch:{name:"switch"}},view:{info:{power:{name:"power",class:"icon",html:""},brightness:{name:"brightness",class:"icon",html:""}},action:{switch:{name:"switch",style:"width: 70px;",class:"",html:i}}},action:{switch:{name:"switch",x:"0px",y:"0px",w:"100%",h:"100%",dataPoint:"switch"}},dataPoint:{0:{power:a.stateID+".lights.Power",switch:a.stateID+".lights.Switch",brightness:a.stateID+".lights.brightness",name:s+".0.name",room:s+".0.room",deviceID:a.id}}};break;case"SHPLG-S":n={domID:t,update:{power:{name:"power",unit:"W"},name:{name:"name"},oname:{name:"name"},switch:{name:"switch"}},view:{info:{power:{name:"power",class:"icon",html:""}},action:{switch:{name:"switch",style:"width: 70px;",class:"",html:i}}},action:{switch:{name:"switch",x:"0px",y:"0px",w:"100%",h:"100%",dataPoint:"switch"}},dataPoint:{0:{power:a.stateID+".Relay0.Power",switch:a.stateID+".Relay0.Switch",name:s+".0.name",room:s+".0.room",deviceID:a.id}}};break;case"shellyplus1pm":case"shellyplusplugs":n={domID:t,update:{power:{name:"power",unit:"W"},voltage:{name:"voltage",unit:"V"},name:{name:"name"},oname:{name:"name"},switch:{name:"switch"}},view:{info:{power:{name:"power",class:"icon",html:""},voltage:{name:"voltage",class:"icon",html:""}},action:{switch:{name:"switch",style:"width: 70px;",class:"",html:i}}},action:{switch:{name:"switch",x:"0px",y:"0px",w:"100%",h:"100%",dataPoint:"switch"}},dataPoint:{0:{power:a.stateID+".Relay0.Power",switch:a.stateID+".Relay0.Switch",voltage:a.stateID+".Relay0.Voltage",name:s+".0.name",room:s+".0.room",deviceID:a.id}}};break;case"shellyplus2pm":n={domID:t,update:{power:{name:"power",unit:"W"},voltage:{name:"voltage",unit:"V"},name:{name:"name"},oname:{name:"name"},switch:{name:"switch"}},view:{info:{power:{name:"power",class:"icon",html:""},voltage:{name:"voltage",class:"icon",html:""}},action:{switch:{name:"switch",style:"width: 70px;",class:"",html:i}}},action:{switch:{name:"switch",x:"0px",y:"0px",w:"100%",h:"100%",dataPoint:"switch"}},dataPoint:{0:{power:a.stateID+".Relay0.Power",switch:a.stateID+".Relay0.Switch",voltage:a.stateID+".Relay0.Voltage",name:s+".0.name",room:s+".0.room",deviceID:a.id},1:{power:a.stateID+".Relay1.Power",switch:a.stateID+".Relay1.Switch",voltage:a.stateID+".Relay1.Voltage",name:s+".1.name",room:s+".1.room",deviceID:a.id}}};break;case"shellyplusht":n={domID:t,update:{humidity:{name:"humidity",unit:"%"},batteryPercent:{name:"devicePower"},externalPower:{name:"devicePower"},temperature:{name:"temperature",unit:"\xb0C"},name:{name:"name"},oname:{name:"name"}},view:{info:{humidity:{name:"humidity",class:"icon",html:""},externalPower:{name:"devicePower",class:"icon",html:""}},action:{temperature:{name:"temperature",style:"width: 70px;",class:"temperature",html:""}}},dataPoint:{0:{temperature:a.stateID+".Temperature0.Celsius",humidity:a.stateID+".Humidity0.Relative",externalPower:a.stateID+".DevicePower0.ExternalPower",batteryPercent:a.stateID+".DevicePower0.BatteryPercent",name:s+".0.name",room:s+".0.room",deviceID:a.id}}};break;case"SHTRV-01":n={domID:t,update:{valvePosition:{name:"valvePosition",unit:"%"},batteryPercent:{name:"devicePower"},externalPower:{name:"devicePower"},temperature:{name:"temperature",unit:"\xb0C"},name:{name:"name"},oname:{name:"name"},temperatureTarget:{name:"temperatureTarget",unit:"\xb0C"}},view:{info:{temperature:{name:"temperature",class:"icon",html:""},valvePosition:{name:"valvePosition",class:"icon",html:""},devicePower:{name:"devicePower",class:"icon",html:""}},action:{temperatureTarget:{name:"temperatureTarget",style:"",class:"TRVValue",html:""},buttons:{name:"buttons",style:"width: 135px;",class:"TRVButton",html:'<object name=\'svgShellyTRVButton\' type="image/svg+xml" data="/vis/widgets/vis-shelly/images/shellyTRVButton.svg" style="margin:5px;width:125px;"></object>'}}},action:{down:{name:"buttons",x:"5px",y:"5px",w:"45px",h:"50px",minValue:15,maxValue:30,step:-.5,dataPoint:"temperatureTarget"},up:{name:"buttons",x:"85px",y:"5px",w:"45px",h:"50px",minValue:15,maxValue:30,step:.5,dataPoint:"temperatureTarget",onClick:{find:"[name='svgShellyTRVButton']",contentDocument:!0,className:"animatedAction"}}},dataPoint:{0:{temperature:a.stateID+".tmp.temperatureC",temperatureTarget:a.stateID+".tmp.temperatureTargetC",valvePosition:a.stateID+".tmp.valvePosition",externalPower:a.stateID+".bat.charger",batteryPercent:a.stateID+".bat.value",name:s+".0.name",room:s+".0.room",deviceID:a.id}}};break;case"SHMOS-02":n={domID:t,update:{lux:{name:"lux",unit:"Lux"},batteryPercent:{name:"devicePower",unit:"%"},motion:{name:"motion"},temperature:{name:"temperature",unit:"\xb0C"},name:{name:"name"},oname:{name:"name"}},view:{info:{temperature:{name:"temperature",class:"icon",html:""},batteryPercent:{name:"batteryPercent",class:"icon",html:""},lux:{name:"lux",class:"icon",html:""}},action:{motion:{name:"motion",style:"width: 70px;",class:"",html:""}}},dataPoint:{0:{temperature:a.stateID+".sensor.temperatureC",motion:a.stateID+".sensor.motion",lux:a.stateID+".sensor.lux",batteryPercent:a.stateID+".sensor.battery",name:s+".0.name",room:s+".0.room",deviceID:a.id}}}}return n})(e.type,this.domID,this.props,this.vsID)}async propertiesUpdate(){}async componentDidMount(){await this.propertiesUpdate()}render(){const e="undefined"===typeof this.typeConfig.dataPoint?[]:this.typeConfig.dataPoint;return(0,i.jsx)("div",{children:Object.entries(e).map((e=>{let[t,a]=e;const s=this.typeConfig.domID+t;return(0,i.jsxs)("div",{id:s,className:"vis2_shelly_DeviceBody",title:this.props.stateID,children:[(0,i.jsx)("span",{name:"status",children:(0,i.jsx)("span",{children:(0,i.jsx)("span",{className:"connectionState connectionStateOnline"})})}),(0,i.jsx)("span",{name:"icon"}),(0,i.jsx)("span",{name:"name",children:this.props.id}),(0,i.jsx)("span",{name:"info",children:Object.entries(this.typeConfig.view.info).map((e=>{let[t,a]=e;return(0,i.jsx)("span",{name:a.name,className:a.class,children:a.html})}))}),(0,i.jsx)("span",{name:"action"})]})}))})}}const r=(0,n.withStyles)((e=>({})))(o)},51153:(e,t,a)=>{var s=a(28437),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,a){var s,i={},l=null,c=null;for(s in void 0!==a&&(l=""+a),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,s)&&!m.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:n,type:e,key:l,ref:c,props:i,_owner:r.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},70579:(e,t,a)=>{e.exports=a(51153)},88880:()=>{}}]);
//# sourceMappingURL=src_ShellyAllDevices_jsx.97286a9a.chunk.js.map